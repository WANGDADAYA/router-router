{"version":3,"file":"js/538.8cf5e882.js","mappings":"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","sources":["webpack://debug-frontend/./src/utils/dataApi.js","webpack://debug-frontend/./src/utils/manageApi.js","webpack://debug-frontend/./src/utils/settingApi.js","webpack://debug-frontend/./src/components/MainInfo.vue","webpack://debug-frontend/./src/components/BugInfo.vue","webpack://debug-frontend/./src/components/BugInfo.vue?55a8","webpack://debug-frontend/./src/utils/constant.js","webpack://debug-frontend/./src/components/MainInfo.vue?39dd"],"sourcesContent":["import request from \"./request\";\n\nexport function getTargetVersionAip(target) {\n  return request({\n    url: \"/data/version/\" + target,\n    method: 'get'\n  })\n}\n\n\nexport function existDataApi(){\n  return request({\n    url: \"/data/exist\",\n    method: 'get'\n  })\n}\n\nexport function getListDataApi(){\n  return request({\n    url: \"/data/existtarget\",\n    method: 'get'\n  })\n}\n\n\nexport function existTargetApi(target){\n  return request({\n    url: \"/data/exist/\" + target,\n    method: 'get'\n  })\n}\n\nexport function getTargetDataApi(target){\n  return request({\n    url: \"/data/\" + target,\n    method: 'get'\n  })\n}\n\nexport function exportAllApi(){\n  return request({\n    url: \"/data/export/all\",\n    method: 'get',\n    responseType: 'blob'\n  })\n}\n","import request from \"./request\";\r\n\r\nexport function connectDebugApi(){\r\n  return request({\r\n    url: \"/mg/connect\",\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nexport function cleanDataApi(){\r\n  return request({\r\n    url: '/mg/clean',\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n\r\nexport function connectStatusApi(){\r\n  return request({\r\n    url: \"/mg/exist\",\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nexport function analystApi(){\r\n  return request({\r\n    url: \"/mg/run\",\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n","import request from \"./request\";\r\n\r\nexport function setArg(args){\r\n  return request({\r\n    url: \"/args/set\",\r\n    method: 'post',\r\n    data: args\r\n  })\r\n}\r\n\r\nexport function getArgApi(){\r\n  return request({\r\n    url: \"/args/get\",\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n","<template>\r\n  <el-row :gutter=\"10\" class=\"top_collection\">\r\n    <el-col :span=\"10\">\r\n      <div>\r\n        <el-card class=\"box-card\">\r\n          <div class=\"info_div\">\r\n            <img class=\"info_img\" src=\"@/assets/IP.png\" alt=\"your-image\">\r\n            <span class=\"text\">{{ this.ip }}</span>\r\n          </div>\r\n          <div class=\"info_div\">\r\n            <img class=\"info_img\" src=\"@/assets/port.png\" alt=\"your-image\">\r\n            <span class=\"text\">{{ this.port }}</span>\r\n          </div>\r\n        </el-card>\r\n      </div>\r\n    </el-col>\r\n    <el-col :span=\"14\">\r\n      <div>\r\n        <el-card class=\"box-card\">\r\n          <el-switch\r\n              class=\"status\"\r\n              v-model=\"statusFlag\"\r\n              inline-prompt\r\n              active-text=\"连接\"\r\n              inactive-text=\"未连接\"\r\n              style=\"--el-switch-on-color: #13ce66; --el-switch-off-color: #ff4949\"\r\n              :before-change=\"beforeChange1\"\r\n          />\r\n          <el-button type=\"primary\" @click=\"connectDebug\">连接</el-button>\r\n          <el-button type=\"primary\" @click=\"analysts\">扫描内存</el-button>\r\n          <el-button type=\"primary\" @click=\"settingConnectArg\">设置</el-button>\r\n          <el-button type=\"primary\" @click=\"connectLogDrawer = true\">连接日志</el-button>\r\n          <hr/>\r\n          <el-button type=\"danger\" @click=\"emptyButton\">未授权探测</el-button>\r\n          <el-button type=\"danger\" @click=\"cleanData\">置空数据</el-button>\r\n          <el-button type=\"danger\" @click=\"exportData\">一键导出(xls)</el-button>\r\n        </el-card>\r\n      </div>\r\n    </el-col>\r\n  </el-row>\r\n  <el-row :gutter=\"10\">\r\n    <el-col :span=\"4\">\r\n      <div style=\"height: 500px\">\r\n        <el-menu class=\"el-menu-demo\" mode=\"el-menu-vertical-demo\" @select=\"handleSelect\" v-for=\"item in targets\">\r\n          <el-menu-item :index=\"item\"><img :src=\"'/static/' + item + '.png'\">{{ item }}</el-menu-item>\r\n        </el-menu>\r\n      </div>\r\n    </el-col>\r\n    <el-col :span=\"20\">\r\n      <div class=\"grid-content ep-bg-purple\" style=\"height: 500px\">\r\n        <router-view/>\r\n      </div>\r\n    </el-col>\r\n  </el-row>\r\n  <el-drawer\r\n      v-model=\"connectLogDrawer\"\r\n      size=\"40%\"\r\n      title=\"连接日志\">\r\n    <div class=\"log_content_box\">\r\n      <p v-for=\"item in logInfo\" :class=\"['log_content', item.debugType]\">\r\n        {{ \"[\" + item.debugType + \"]: \" + item.debugMessage }}</p>\r\n    </div>\r\n  </el-drawer>\r\n  <el-dialog\r\n      v-model=\"dialogVisible\"\r\n      width=\"40%\">\r\n    <bug-info/>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  connectDebugApi,\r\n  cleanDataApi,\r\n  connectStatusApi,\r\n  analystApi\r\n} from \"../utils/manageApi\";\r\nimport {getArgApi} from \"../utils/settingApi\";\r\nimport {getListDataApi, exportAllApi} from \"../utils/dataApi\";\r\n\r\nimport BugInfo from './BugInfo.vue';\r\nimport Constant from \"@/utils/constant\";\r\nimport {onBeforeUnmount} from \"vue\";\r\nimport {reactive} from 'vue'\r\nimport {Message} from \"@/utils/message\";\r\n\r\nexport default {\r\n  name: \"MainInfo\",\r\n  inject: ['reload'],\r\n  data() {\r\n    return {\r\n      ip: \"127.0.0.1\",\r\n      port: \"5005\",\r\n      url: \"\",\r\n      statusFlag: false,\r\n      targets: reactive({\r\n        list: []\r\n      }),\r\n      dialogVisible: false,\r\n      connectLogDrawer: false,\r\n      logInfo: [],\r\n      socket: null\r\n    }\r\n  },\r\n  methods: {\r\n    handleSelect(key, keyPath) {\r\n      this.$router.push(\"/main/\" + key)\r\n    },\r\n    connectDebug() {\r\n      connectDebugApi().then(res => {\r\n        if (res.data.code === 200) {\r\n          this.statusFlag = true\r\n          Message('消息', res.data.msg, 'info')\r\n        } else if (res.data.code === 300) {\r\n          Message('消息', res.data.msg, 'warning')\r\n        } else if (res.data.code === 400) {\r\n          Message('消息', res.data.msg, 'error')\r\n        }\r\n      }).catch(err => {\r\n        Message('网络异常', '内部服务异常，检查服务是否正常运行', 'error')\r\n      })\r\n      this.connectLogDrawer = true\r\n    },\r\n    cleanData() {\r\n      cleanDataApi()\r\n      this.$router.push(\"/main\")\r\n      this.reload()\r\n    },\r\n    settingConnectArg() {\r\n      if (this.statusFlag) {\r\n        Message('功能使用错误', '设置前需要断开连接', 'error')\r\n        return\r\n      } else {\r\n        console.log(111)\r\n        this.dialogVisible = true\r\n      }\r\n    },\r\n    exportData() {\r\n      if (this.targets.length === 0) {\r\n        Message('数据', '无数据', 'error')\r\n        return\r\n      } else {\r\n        exportAllApi().then(res => {\r\n          let blob = new Blob([res.data]);\r\n          let url = window.URL.createObjectURL(blob);\r\n          let a = document.createElement('a');\r\n          a.href = url;\r\n          a.download = 'output.xls';\r\n          a.click();\r\n          window.URL.revokeObjectURL(url);\r\n        })\r\n      }\r\n    },\r\n    emptyButton() {\r\n      Message('实验性功能', '', 'warning')\r\n    },\r\n    beforeChange1() {\r\n      return false\r\n    },\r\n    getListData() {\r\n      getListDataApi().then(res => {\r\n        let lists = []\r\n        if (res.data.msg.spring) {\r\n          lists.push(\"spring\")\r\n        }\r\n        if (res.data.msg.struts) {\r\n          lists.push(\"struts\")\r\n        }\r\n        if (res.data.msg.tomcat) {\r\n          lists.push(\"tomcat\")\r\n        }\r\n        if (res.data.msg.jetty) {\r\n          lists.push(\"jetty\")\r\n        }\r\n        if (res.data.msg.jersey) {\r\n          lists.push(\"jersey\")\r\n        }\r\n\r\n        console.log(lists)\r\n        this.targets = lists;\r\n      })\r\n    },\r\n    analysts() {\r\n      analystApi().then(res => {\r\n        this.logInfo = []\r\n        Message('消息', res.data.msg, 'info')\r\n        this.connectLogDrawer = true\r\n      })\r\n    }\r\n  },\r\n  created() {\r\n    this.socket = new WebSocket(Constant.WebsocketLocation)\r\n    getArgApi().then(res => {\r\n      if (res.data.code !== 200) {\r\n        Message('警告', res.data.msg, 'warning')\r\n        this.$router.push(\"/index\")\r\n      } else {\r\n        this.ip = res.data.msg.hostname\r\n        this.port = res.data.msg.port\r\n        this.url = res.data.msg.url\r\n      }\r\n    })\r\n    this.getListData()\r\n    connectStatusApi().then(res => {\r\n      if (res.data.code === 200) {\r\n        this.statusFlag = true\r\n      } else {\r\n        this.statusFlag = false\r\n      }\r\n    })\r\n  },\r\n  mounted() {\r\n    this.socket.onopen = () => {\r\n      console.log(\"完成日志连接\")\r\n    }\r\n    this.socket.onmessage = (event) => {\r\n      let info = JSON.parse(event.data)\r\n      if (info.debugType === 'Success') {\r\n        this.getListData()\r\n      }\r\n      this.logInfo.push(JSON.parse(event.data))\r\n    };\r\n    onBeforeUnmount(() => {\r\n      this.socket.close()\r\n      console.log(\"退出日志连接\")\r\n    });\r\n  },\r\n  components: {\r\n    BugInfo\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\ninfo_div {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.info_img {\r\n  display: inline-block;\r\n  vertical-align: middle;\r\n  width: 40px;\r\n  height: 40px;\r\n  padding-right: 20px;\r\n}\r\n\r\n.text {\r\n  display: inline-block;\r\n  vertical-align: middle;\r\n  font-size: 20px;\r\n}\r\n\r\n.status {\r\n  padding-left: 20px;\r\n  padding-right: 20px;\r\n}\r\n\r\n.log_content_box {\r\n  border-radius: 10px 10px 10px 10px;\r\n  background-color: gainsboro;\r\n}\r\n\r\n.log_content {\r\n  padding-left: 5px\r\n}\r\n\r\n\r\nimg {\r\n  width: 50px;\r\n  height: 50px;\r\n}\r\n\r\n.top_collection {\r\n  padding-bottom: 10px;\r\n}\r\n\r\n.Info {\r\n  color: skyblue;\r\n}\r\n\r\n.Success {\r\n  color: #13ce66;\r\n}\r\n\r\n.Fail {\r\n  color: #ff4949;\r\n}\r\n</style>\r\n","<template>\r\n  <div>\r\n    <fieldset>\r\n      <legend>调试信息</legend>\r\n      <el-form :model=\"form\" label-width=\"80px\" :rules=\"rules\">\r\n        <el-col :span=\"18\">\r\n          <el-form-item label=\"地址\" prop=\"address\">\r\n            <el-input v-model=\"form.address\" placeholder=\"请输入debug地址\" ></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"18\">\r\n          <el-form-item label=\"端口\" prop=\"port\">\r\n            <el-input v-model=\"form.port\" placeholder=\"请输入debug端口\"></el-input>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"18\">\r\n          <el-form-item>\r\n            <el-button type=\"primary\" @click=\"onSubmit\">修改</el-button>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-form>\r\n    </fieldset>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {setArg} from \"../utils/settingApi\"\r\nimport {Message} from \"@/utils/message\";\r\n\r\nexport default {\r\n  name: \"BugInfo\",\r\n  data() {\r\n    let IpReg = /^(([1-9]?\\d|1\\d{2}|2[0-4]\\d|25[0-5])\\.){3}([1-9]?\\d|1\\d{2}|2[0-4]\\d|25[0-5])$/,\r\n      urlReg = /^(?:http(s)?:\\/\\/)?[\\w.-]+(?:\\.[\\w\\.-]+)+[\\w\\-\\._~:/?#[\\]@!\\$&'\\*\\+,;=.]+$/,\r\n      validateIp = (rule, value, callback) => {\r\n        if (!IpReg.test(value)) {\r\n          callback(new Error('地址格式异常'))\r\n        } else {\r\n          this.form.IpAllow = true\r\n          callback()\r\n        }\r\n      },\r\n      validatePort = (rule, value, callback) => {\r\n        let number = parseInt(value)\r\n        if (window.isNaN(number)) {\r\n          callback(new Error('仅支持数字格式'))\r\n        } else if (number <= 0 || number > 65535) {\r\n          callback(new Error('超出端口范围'))\r\n        } else {\r\n          this.form.PortAllow = true\r\n          callback()\r\n        }\r\n      }\r\n    return {\r\n      form: {\r\n        address: '',\r\n        port: '',\r\n        url: '',\r\n        IpAllow: false,\r\n        PortAllow: false,\r\n        urlAllow: false\r\n      },\r\n      rules: {\r\n        address: [\r\n          {required: true, message: '地址不可为空', trigger: 'blur', allow: false},\r\n          {validator: validateIp, trigger: 'blur'}\r\n        ],\r\n        port: [\r\n          {required: true, message: '端口不可为空', trigger: 'blur', allow: false},\r\n          {validator: validatePort, trigger: 'blur'}\r\n        ],\r\n      },\r\n    }\r\n  },\r\n  methods:{\r\n    onSubmit() {\r\n      if (this.form.IpAllow && this.form.PortAllow) {\r\n        let Form = new Object()\r\n        Form.hostname = this.form.address;\r\n        Form.port = this.form.port;\r\n        setArg(Form).then(res => {\r\n          if (res.data.code !== 200) {\r\n            Message('错误', res.data.msg, 'error')\r\n          } else {\r\n            Message('信息', res.data.msg, 'success')\r\n          }\r\n          this.$router.push('/')\r\n        }).catch(err => {\r\n          Message('错误', '内部服务异常，请检查服务端口是否正常运行', 'error')\r\n        })\r\n      } else {\r\n        Message('错误', '参数异常：检查输入参数', 'error')\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nfieldset {\r\n  border: 2px solid #DCDFE6;\r\n  text-align: left;\r\n  border-radius: 8px;\r\n  margin: 0 auto;\r\n  width: 80%;\r\n}\r\n</style>\r\n","import { render } from \"./BugInfo.vue?vue&type=template&id=71772530&scoped=true\"\nimport script from \"./BugInfo.vue?vue&type=script&lang=js\"\nexport * from \"./BugInfo.vue?vue&type=script&lang=js\"\n\nimport \"./BugInfo.vue?vue&type=style&index=0&id=71772530&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/.pnpm/registry.npmmirror.com+vue-loader@17.2.2_vue@3.2.13_webpack@5.86.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-71772530\"]])\n\nexport default __exports__","export default {\r\n    WebsocketLocation: 'ws://127.0.0.1:9090/ws/debug/info'\r\n}","import { render } from \"./MainInfo.vue?vue&type=template&id=0ed8ed6e&scoped=true\"\nimport script from \"./MainInfo.vue?vue&type=script&lang=js\"\nexport * from \"./MainInfo.vue?vue&type=script&lang=js\"\n\nimport \"./MainInfo.vue?vue&type=style&index=0&id=0ed8ed6e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/.pnpm/registry.npmmirror.com+vue-loader@17.2.2_vue@3.2.13_webpack@5.86.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0ed8ed6e\"]])\n\nexport default __exports__"],"names":["getTargetVersionAip","target","request","url","method","getListDataApi","existTargetApi","getTargetDataApi","exportAllApi","responseType","connectDebugApi","cleanDataApi","connectStatusApi","analystApi","setArg","args","data","getArgApi","class","_createElementVNode","src","_imports_0","alt","_imports_1","style","_createVNode","_component_el_row","gutter","_component_el_col","span","_component_el_card","_hoisted_1","_hoisted_2","_hoisted_3","_toDisplayString","ip","_hoisted_4","_hoisted_5","_hoisted_6","port","_component_el_switch","$data","statusFlag","$event","$options","beforeChange1","_component_el_button","type","onClick","connectDebug","analysts","settingConnectArg","_cache","connectLogDrawer","_hoisted_11","emptyButton","cleanData","exportData","_hoisted_15","_createElementBlock","_Fragment","_renderList","targets","item","_createBlock","_component_el_menu","mode","onSelect","handleSelect","_component_el_menu_item","index","_hoisted_17","_component_router_view","_component_el_drawer","size","title","_hoisted_18","logInfo","_normalizeClass","debugType","debugMessage","_component_el_dialog","dialogVisible","width","_component_bug_info","_component_el_form","model","form","rules","_component_el_form_item","label","prop","_component_el_input","address","placeholder","onSubmit","name","IpReg","validateIp","rule","value","callback","test","this","IpAllow","Error","validatePort","number","parseInt","window","isNaN","PortAllow","urlAllow","required","message","trigger","allow","validator","methods","Form","Object","hostname","then","res","code","Message","msg","$router","push","catch","err","__exports__","WebsocketLocation","inject","reactive","list","socket","key","keyPath","reload","console","log","length","blob","Blob","URL","createObjectURL","a","document","createElement","href","download","click","revokeObjectURL","getListData","lists","spring","struts","tomcat","jetty","jersey","created","WebSocket","Constant","mounted","onopen","onmessage","event","info","JSON","parse","onBeforeUnmount","close","components","BugInfo","render"],"sourceRoot":""}