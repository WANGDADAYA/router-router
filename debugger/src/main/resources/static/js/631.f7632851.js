"use strict";(self["webpackChunkdebug_frontend"]=self["webpackChunkdebug_frontend"]||[]).push([[631],{1428:function(t,e,r){r.d(e,{Gf:function(){return s},H_:function(){return n},Mt:function(){return a},OZ:function(){return l},r3:function(){return d},zA:function(){return u}});var o=r(3326);function n(){return(0,o.Z)({url:"/mg/connect/run",method:"get"})}function u(){return(0,o.Z)({url:"/mg/analyst/status",method:"get"})}function l(){return(0,o.Z)({url:"/mg/clean",method:"get"})}function a(){return(0,o.Z)({url:"/mg/exist",method:"get"})}function d(){return(0,o.Z)({url:"/mg/analyst/stop",method:"get"})}function s(){return(0,o.Z)({url:"/mg/analyst/start",method:"get"})}},6622:function(t,e,r){r.d(e,{a:function(){return n},e:function(){return u}});var o=r(3326);function n(t){return(0,o.Z)({url:"/args/set",method:"post",data:t})}function u(){return(0,o.Z)({url:"/args/get",method:"get"})}},5631:function(t,e,r){r.r(e),r.d(e,{default:function(){return g}});var o=r(8997);const n=t=>((0,o.dD)("data-v-2dd761e2"),t=t(),(0,o.Cn)(),t),u=n((()=>(0,o._)("h3",{class:"login-title"},"参数设置",-1))),l=(0,o.Uk)("连接");function a(t,e,r,n,a,d){const s=(0,o.up)("el-input"),i=(0,o.up)("el-form-item"),m=(0,o.up)("el-button"),f=(0,o.up)("el-form");return(0,o.wg)(),(0,o.j4)(f,{ref:"loginForm",model:a.form,rules:a.rules,"label-width":"80px",class:"login-box"},{default:(0,o.w5)((()=>[u,(0,o.Wm)(i,{label:"地址",prop:"address"},{default:(0,o.w5)((()=>[(0,o.Wm)(s,{type:"text",placeholder:"请输入debug地址",modelValue:a.form.address,"onUpdate:modelValue":e[0]||(e[0]=t=>a.form.address=t)},null,8,["modelValue"])])),_:1}),(0,o.Wm)(i,{label:"端口",prop:"port"},{default:(0,o.w5)((()=>[(0,o.Wm)(s,{type:"text",placeholder:"请输入debug端口",modelValue:a.form.port,"onUpdate:modelValue":e[1]||(e[1]=t=>a.form.port=t)},null,8,["modelValue"])])),_:1}),(0,o.Wm)(i,null,{default:(0,o.w5)((()=>[(0,o.Wm)(m,{type:"primary",onClick:e[2]||(e[2]=t=>d.onSubmit())},{default:(0,o.w5)((()=>[l])),_:1})])),_:1})])),_:1},8,["model","rules"])}var d=r(1428),s=r(6622),i=r(7066),m={name:"BugSetting",data(){let t=/^(([1-9]?\d|1\d{2}|2[0-4]\d|25[0-5])\.){3}([1-9]?\d|1\d{2}|2[0-4]\d|25[0-5])$/,e=(e,r,o)=>{t.test(r)?(this.form.IpAllow=!0,o()):o(new Error("地址格式异常"))},r=(t,e,r)=>{let o=parseInt(e);window.isNaN(o)?r(new Error("仅支持数字格式")):o<=0||o>65535?r(new Error("超出端口范围")):(this.form.PortAllow=!0,r())};return{form:{address:"",port:"",IpAllow:!1,PortAllow:!1},rules:{address:[{required:!0,message:"地址不可为空",trigger:"blur",allow:!1},{validator:e,trigger:"blur"}],port:[{required:!0,message:"端口不可为空",trigger:"blur",allow:!1},{validator:r,trigger:"blur"}]}}},methods:{onSubmit(){if(this.form.IpAllow&&this.form.PortAllow){let t=new Object;t.hostname=this.form.address,t.port=this.form.port,(0,s.a)(t).then((t=>{200!==t.data.code?(0,i.v)("错误",t.data.msg,"error"):((0,i.v)("信息",t.data.msg,"success"),this.$router.push("/main"))})).catch((t=>{(0,i.v)("错误","内部服务异常，请检查服务端口是否正常运行","error")}))}else(0,i.v)("错误","参数异常：检查输入参数","error")}},created(){(0,s.e)().then((t=>{200===t.data.code&&this.$router.push("/main")})),(0,d.Mt)().then((t=>{200===t.data.code&&this.$router.push("/main")}))}},f=r(6150);const c=(0,f.Z)(m,[["render",a],["__scopeId","data-v-2dd761e2"]]);var g=c}}]);
//# sourceMappingURL=631.f7632851.js.map