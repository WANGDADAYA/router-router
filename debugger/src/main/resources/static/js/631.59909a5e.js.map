{"version":3,"file":"js/631.59909a5e.js","mappings":"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","sources":["webpack://debug-frontend/./src/utils/manageApi.js","webpack://debug-frontend/./src/utils/settingApi.js","webpack://debug-frontend/./src/components/BugSetting.vue","webpack://debug-frontend/./src/components/BugSetting.vue?e825"],"sourcesContent":["import request from \"./request\";\r\n\r\nexport function connectDebugApi(){\r\n  return request({\r\n    url: \"/mg/connect\",\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nexport function cleanDataApi(){\r\n  return request({\r\n    url: '/mg/clean',\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n\r\nexport function connectStatusApi(){\r\n  return request({\r\n    url: \"/mg/exist\",\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nexport function analystApi(){\r\n  return request({\r\n    url: \"/mg/run\",\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n","import request from \"./request\";\r\n\r\nexport function setArg(args){\r\n  return request({\r\n    url: \"/args/set\",\r\n    method: 'post',\r\n    data: args\r\n  })\r\n}\r\n\r\nexport function getArgApi(){\r\n  return request({\r\n    url: \"/args/get\",\r\n    method: 'get'\r\n  })\r\n}\r\n\r\n","<template>\r\n  <el-form ref=\"loginForm\" :model=\"form\" :rules=\"rules\" label-width=\"80px\" class=\"login-box\">\r\n    <h3 class=\"login-title\">参数设置</h3>\r\n    <el-form-item label=\"地址\" prop=\"address\">\r\n      <el-input type=\"text\" placeholder=\"请输入debug地址\" v-model=\"form.address\"/>\r\n    </el-form-item>\r\n    <el-form-item label=\"端口\" prop=\"port\">\r\n      <el-input type=\"text\" placeholder=\"请输入debug端口\" v-model=\"form.port\"/>\r\n    </el-form-item>\r\n    <el-form-item>\r\n      <el-button type=\"primary\" v-on:click=\"onSubmit()\">连接</el-button>\r\n    </el-form-item>\r\n  </el-form>\r\n</template>\r\n\r\n<script>\r\nimport {connectStatusApi} from '../utils/manageApi';\r\nimport {getArgApi, setArg} from \"../utils/settingApi\";\r\nimport {Message} from \"@/utils/message\";\r\n\r\nexport default {\r\n  name: \"BugSetting\",\r\n  data() {\r\n    let IpReg = /^(([1-9]?\\d|1\\d{2}|2[0-4]\\d|25[0-5])\\.){3}([1-9]?\\d|1\\d{2}|2[0-4]\\d|25[0-5])$/,\r\n        urlReg = /^(?:http(s)?:\\/\\/)?[\\w.-]+(?:\\.[\\w\\.-]+)+[\\w\\-\\._~:/?#[\\]@!\\$&'\\*\\+,;=.]+$/,\r\n        validateIp = (rule, value, callback) => {\r\n          if (!IpReg.test(value)) {\r\n            callback(new Error('地址格式异常'))\r\n          } else {\r\n            this.form.IpAllow = true\r\n            callback()\r\n          }\r\n        },\r\n        validatePort = (rule, value, callback) => {\r\n          let number = parseInt(value)\r\n          if (window.isNaN(number)) {\r\n            callback(new Error('仅支持数字格式'))\r\n          } else if (number <= 0 || number > 65535) {\r\n            callback(new Error('超出端口范围'))\r\n          } else {\r\n            this.form.PortAllow = true\r\n            callback()\r\n          }\r\n        }\r\n    return {\r\n      form: {\r\n        address: '',\r\n        port: '',\r\n        IpAllow: false,\r\n        PortAllow: false,\r\n      },\r\n      rules: {\r\n        address: [\r\n          {required: true, message: '地址不可为空', trigger: 'blur', allow: false},\r\n          {validator: validateIp, trigger: 'blur'}\r\n        ],\r\n        port: [\r\n          {required: true, message: '端口不可为空', trigger: 'blur', allow: false},\r\n          {validator: validatePort, trigger: 'blur'}\r\n        ],\r\n      },\r\n    }\r\n  },\r\n  methods: {\r\n    onSubmit() {\r\n      if (this.form.IpAllow && this.form.PortAllow) {\r\n        let Form = new Object()\r\n        Form.hostname = this.form.address;\r\n        Form.port = this.form.port;\r\n        setArg(Form).then(res => {\r\n          if (res.data.code !== 200) {\r\n            Message('错误', res.data.msg, 'error')\r\n          } else {\r\n            Message('信息', res.data.msg, 'success')\r\n            this.$router.push(\"/main\")\r\n          }\r\n        }).catch(err => {\r\n          Message('错误', '内部服务异常，请检查服务端口是否正常运行', 'error')\r\n        })\r\n      } else {\r\n        Message('错误', '参数异常：检查输入参数', 'error')\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    getArgApi().then(res => {\r\n      if (res.data.code === 200) {\r\n        this.$router.push(\"/main\")\r\n      }\r\n    })\r\n    connectStatusApi().then(res => {\r\n      if (res.data.code === 200) {\r\n        this.$router.push(\"/main\")\r\n      } else {\r\n      }\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.login-box {\r\n  border: 1px solid #DCDFE6;\r\n  width: 350px;\r\n  margin: 180px auto;\r\n  padding: 35px 35px 15px 35px;\r\n  border-radius: 5px;\r\n  -webkit-border-radius: 5px;\r\n  -moz-border-radius: 5px;\r\n  box-shadow: 0 0 25px #909399;\r\n  background-color: white;\r\n\r\n}\r\n\r\n.login-title {\r\n  text-align: center;\r\n  margin: 0 auto 40px auto;\r\n  color: #303133;\r\n}\r\n</style>\r\n","import { render } from \"./BugSetting.vue?vue&type=template&id=2dd761e2&scoped=true\"\nimport script from \"./BugSetting.vue?vue&type=script&lang=js\"\nexport * from \"./BugSetting.vue?vue&type=script&lang=js\"\n\nimport \"./BugSetting.vue?vue&type=style&index=0&id=2dd761e2&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/.pnpm/registry.npmmirror.com+vue-loader@17.2.2_vue@3.2.13_webpack@5.86.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2dd761e2\"]])\n\nexport default __exports__"],"names":["connectDebugApi","request","url","method","cleanDataApi","connectStatusApi","analystApi","setArg","args","data","getArgApi","_createElementVNode","class","_createBlock","_component_el_form","ref","model","$data","form","rules","_hoisted_1","_createVNode","_component_el_form_item","label","prop","_component_el_input","type","placeholder","address","$event","port","_component_el_button","onClick","_cache","$options","onSubmit","name","IpReg","validateIp","rule","value","callback","test","this","IpAllow","Error","validatePort","number","parseInt","window","isNaN","PortAllow","required","message","trigger","allow","validator","methods","Form","Object","hostname","then","res","code","Message","msg","$router","push","catch","err","created","__exports__","render"],"sourceRoot":""}