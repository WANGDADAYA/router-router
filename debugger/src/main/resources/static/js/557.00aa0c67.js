"use strict";(self["webpackChunkdebugRoute3"]=self["webpackChunkdebugRoute3"]||[]).push([[557],{4424:function(e,t,r){r.d(t,{H_:function(){return n},Mt:function(){return a},OZ:function(){return u},rL:function(){return l}});var o=r(4838);function n(){return(0,o.Z)({url:"/mg/connect/run",method:"get"})}function u(){return(0,o.Z)({url:"/mg/clean",method:"get"})}function l(){return(0,o.Z)({url:"/mg/stop",method:"get"})}function a(){return(0,o.Z)({url:"/mg/exist",method:"get"})}},6033:function(e,t,r){r.d(t,{v:function(){return n}});var o=r(2233);function n(e,t,r){(0,o.bM)({title:e,message:t,position:"bottom-left",type:r})}},3492:function(e,t,r){r.d(t,{a:function(){return n},e:function(){return u}});var o=r(4838);function n(e){return(0,o.Z)({url:"/args/set",method:"post",data:e})}function u(){return(0,o.Z)({url:"/args/get",method:"get"})}},3557:function(e,t,r){r.r(t),r.d(t,{default:function(){return p}});var o=r(4589);const n=e=>((0,o.dD)("data-v-2dd761e2"),e=e(),(0,o.Cn)(),e),u=n((()=>(0,o._)("h3",{class:"login-title"},"参数设置",-1))),l=(0,o.Uk)("连接");function a(e,t,r,n,a,d){const s=(0,o.up)("el-input"),i=(0,o.up)("el-form-item"),m=(0,o.up)("el-button"),f=(0,o.up)("el-form");return(0,o.wg)(),(0,o.j4)(f,{ref:"loginForm",model:a.form,rules:a.rules,"label-width":"80px",class:"login-box"},{default:(0,o.w5)((()=>[u,(0,o.Wm)(i,{label:"地址",prop:"address"},{default:(0,o.w5)((()=>[(0,o.Wm)(s,{type:"text",placeholder:"请输入debug地址",modelValue:a.form.address,"onUpdate:modelValue":t[0]||(t[0]=e=>a.form.address=e)},null,8,["modelValue"])])),_:1}),(0,o.Wm)(i,{label:"端口",prop:"port"},{default:(0,o.w5)((()=>[(0,o.Wm)(s,{type:"text",placeholder:"请输入debug端口",modelValue:a.form.port,"onUpdate:modelValue":t[1]||(t[1]=e=>a.form.port=e)},null,8,["modelValue"])])),_:1}),(0,o.Wm)(i,null,{default:(0,o.w5)((()=>[(0,o.Wm)(m,{type:"primary",onClick:t[2]||(t[2]=e=>d.onSubmit())},{default:(0,o.w5)((()=>[l])),_:1})])),_:1})])),_:1},8,["model","rules"])}var d=r(4424),s=r(3492),i=r(6033),m={name:"BugSetting",data(){let e=/^(([1-9]?\d|1\d{2}|2[0-4]\d|25[0-5])\.){3}([1-9]?\d|1\d{2}|2[0-4]\d|25[0-5])$/,t=(t,r,o)=>{e.test(r)?(this.form.IpAllow=!0,o()):o(new Error("地址格式异常"))},r=(e,t,r)=>{let o=parseInt(t);window.isNaN(o)?r(new Error("仅支持数字格式")):o<=0||o>65535?r(new Error("超出端口范围")):(this.form.PortAllow=!0,r())};return{form:{address:"",port:"",IpAllow:!1,PortAllow:!1},rules:{address:[{required:!0,message:"地址不可为空",trigger:"blur",allow:!1},{validator:t,trigger:"blur"}],port:[{required:!0,message:"端口不可为空",trigger:"blur",allow:!1},{validator:r,trigger:"blur"}]}}},methods:{onSubmit(){if(this.form.IpAllow&&this.form.PortAllow){let e=new Object;e.hostname=this.form.address,e.port=this.form.port,(0,s.a)(e).then((e=>{200!==e.data.code?(0,i.v)("错误",e.data.msg,"error"):((0,i.v)("信息",e.data.msg,"success"),this.$router.push("/main"))})).catch((e=>{(0,i.v)("错误","内部服务异常，请检查服务端口是否正常运行","error")}))}else(0,i.v)("错误","参数异常：检查输入参数","error")}},created(){(0,s.e)().then((e=>{200===e.data.code&&this.$router.push("/main")})),(0,d.Mt)().then((e=>{200===e.data.code&&this.$router.push("/main")}))}},f=r(8543);const c=(0,f.Z)(m,[["render",a],["__scopeId","data-v-2dd761e2"]]);var p=c}}]);
//# sourceMappingURL=557.00aa0c67.js.map